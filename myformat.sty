\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{myformat}[01/07/2020 Package reorganization chapter, header, footer, hyperlinks]

% Import functional modules
\RequirePackage{hyperref}
\RequirePackage{fancyhdr}
\RequirePackage{sectsty}
% Import design modules
\RequirePackage{palatino}		%choix personnel de police
\RequirePackage{lastpage}
% Import maths modules
\RequirePackage{amsmath}		%pour des maths
\RequirePackage{amsthm}     %pour des maths
\RequirePackage{amsfonts}		%pour des maths
\RequirePackage{amssymb}		%pour des maths
\RequirePackage{dsfont} % = \mathds{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CHAPITRES, SECTIONS, DEFINITIONS, THEOREM PARAMETRAGE

% Format des differents chapitres et sections
\makeatletter
\def\BState{\State\hskip-\ALG@thistlm}
\renewcommand{\@chapapp}{Partie}
\renewcommand\thechapter{\Roman{chapter}}
\renewcommand\thesection{\arabic{section}}
\renewcommand\thesubsection{\thesection.\arabic{subsection}}
\renewcommand\thesubsubsection{\thesubsection.\arabic{subsubsection}}
\makeatother


% Format des définitions et théorèmes
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{property}{Propriété}[section]

% Init les compteurs
\setcounter{chapter}{0}
\setcounter{section}{0}
\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{3}

% Change color
\pagecolor{mainbg}
\color{mainfont}
\chapterfont{\color{theme1}}
\sectionfont{\color{theme1}}

%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%
% HYPERLINK PARAMS
\hypersetup{
  dvips,
  backref=true, %permet d'ajouter des liens dans...
  pagebackref=true,%...les bibliographies
  hyperindex=true, %ajoute des liens dans les index.
  colorlinks=true, %colorise les liens
  breaklinks=true, %permet le retour à la ligne dans les liens trop longs
  urlcolor=theme2, %couleur des hyperliens
  linkcolor=theme2, %couleur des liens internes
  bookmarks=gray,
  citecolor=theme2, %créé des signets pour Acrobat
  bookmarksopen=true,
} 

%%%%%%%%%%%%%%%%%%%%%%s%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% % FANCY STYLE DES HEADERS ET FOOTERS

\fancypagestyle{simple}{
    \fancyhf{}
    % Header
    \setlength{\headheight}{15pt}
    \fancyhead[L]{}
    \fancyhead[C]{}
    \fancyhead[R]{}
    \renewcommand{\headrulewidth}{0pt}
    % Footer
    \fancyfoot[L]{\insertrefproj}
    \fancyhead[C]{}
    \fancyfoot[R]{\thepage/\pageref{LastPage}}
    \renewcommand{\footrulewidth}{0.2pt}
}

\fancypagestyle{complexe}{
    \fancyhf{}
    % Header
    \setlength{\headheight}{15pt}
    \fancyhead[L]{\@title}
    \fancyhead[C]{}
    \fancyhead[R]{\@date}
    \renewcommand{\headrulewidth}{0pt}
    % Footer
    \fancyfoot[L]{\insertrefproj}
    \fancyhead[C]{}
    \fancyfoot[R]{\thepage/\pageref{LastPage}}
    \renewcommand{\headrulewidth}{0.2pt}
    \renewcommand{\footrulewidth}{0.2pt}
}

% Redefine the plain page style (for chapters and toc)
\fancypagestyle{plain}{
  \pagestyle{simple}
}

%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%
% INFOS DOCUMENTS
\newcommand{\insertrefproj}[1]{}
\newcommand{\refproj}[1]{\renewcommand{\insertrefproj}{#1}}
\newcommand{\insertsupervisor}[1]{}
\newcommand{\supervisor}[1]{\renewcommand{\insertsupervisor}{#1}}
\renewcommand\bibname{References}

\endinput